<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8">
        <title>Robotics Game Server</title>
        <link rel="shortcut icon" href="images/logo.png" type="image/png">
		<link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/header.css">
        <link rel="stylesheet" href="css/login.css">
		<link rel="stylesheet" href="css/list_of_lobbies.css">
        <link rel="stylesheet" href="css/choose_level.css">
        <link rel="stylesheet" href="css/my_solutions.css">
        <link rel="stylesheet" href="css/levels.css">
        <link rel="stylesheet" href="css/level_editor.css">
		<link rel="stylesheet" href="css/lobby.css">
		<link rel="stylesheet" href="css/simulation_results.css">
        <link rel="stylesheet" href="css/code_editor.css">
        <!--<link rel="stylesheet" href="js/libs/codemirror-5.51.0/lib/codemirror.css">-->
        <!--<script src="js/libs/codemirror-5.51.0/lib/codemirror.js"></script>-->
        <!--<script src="js/libs/codemirror-5.51.0/mode/groovy/groovy.js"></script>-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.51.0/codemirror.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.51.0/theme/darcula.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.51.0/codemirror.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.51.0/mode/groovy/groovy.min.js"></script>
        <!--<script src="js/libs/jquery/3.4.1/jquery.min.js"></script>-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="js/main.js"></script>
        <script src="js/context_manager.js"></script>
        <script src="js/context_listeners.js"></script>
		<script>
            $(document).ready(function() {
                var contextManager = new ContextManager([
                    ["login",             { title: "Login",             headerId: undefined,            contentId: "login-content"             }],
                    ["list_of_lobbies",   { title: "List of Lobbies",   headerId: "header-main",        contentId: "list-of-lobbies-content"   }],
                    ["my_solutions",      { title: "My Solutions",      headerId: "header-main",        contentId: "my-solutions-content"      }],
                    ["levels",            { title: "Levels",            headerId: "header-main",        contentId: "levels-content"            }],
                    ["level_editor",      { title: "Level editor",      headerId: "header-main",        contentId: "level-editor-content"      }],
                    ["options",           { title: "Options",           headerId: "header-main",        contentId: "options-content"           }],
                    ["choose_level",      { title: "Choose a Level",    headerId: "header-main",        contentId: "choose-level-content"      }],
                    ["lobby",             { title: "Lobby",             headerId: "header-main",        contentId: "lobby-content"             }],
                    ["code_editor",       { title: "Code Editor",       headerId: "header-code-editor", contentId: "code-editor-content"       }],
                    ["simulation_result", { title: "Simulation Result", headerId: "header-main",        contentId: "simulation-result-content" }]
                ]);
                activateListeners(contextManager);
                contextManager.changeContext("login");
                
                var contextListeners = new ContextListeners(contextManager);
                contextListeners.activateAll();
			});
		</script>
	</head>
    <body>
		<div class="shell">
            <section id="login-content" class="content">
                <img class="logo" src="images/logo.png" alt="Robotics Game Server Logotype">
                <form class="login-form" action="">
                    <section class="login-form-section">
                        <p class="login-form-label">Server:</p>
                        <select class="login-form-input">
                            <option>NSU Robotics Club</option>
                            <option>Robotics Game Center</option>
                        </select>
                    </section>
                    <section class="login-form-section">
                        <p class="login-form-label">Login:</p>
                        <input class="login-form-input" type="text">
                    </section>
                    <section class="login-form-section">
                        <p class="login-form-label">Password:</p>
                        <input class="login-form-input" type="password">
                    </section>
                    <section class="login-form-section">
                        <span id="login-submit" class="a">Log In</span>
<!--                        <button id="login-submit" class="login-form-input login-form-button" type="submit">Log In</button>-->
                    </section>
                </form>
            </section>
            <header id="header-main" class="header-main">
				<nav class="nav-bar">
					<span class="nav-bar-left">
                        <span id="list_of_lobbies" class="a highlited-on-hover" data-href="list_of_lobbies.html">List of Lobbies</span>
                        <span id="my_solutions" class="a highlited-on-hover" data-href="my_solutions.html">My Solutions</span>
                        <span id="students" class="a highlited-on-hover" data-href="students.html">Students</span>
                        <span id="levels" class="a highlited-on-hover" data-href="levels.html">Levels</span>
                        <span id="simulators" class="a highlited-on-hover" data-href="simulators.html">Simulators</span>
					</span>
					<span class="nav-bar-right">
                        <span id="options" class="a highlited-on-hover" data-href="options.html">Options</span>
                        <span id="logout" class="a highlited-on-hover" data-href="login.html"></span>
					</span>
				</nav>
			</header>
            <header id="header-code-editor" class="header-code-editor">
				<span class="a back back-icon"></span>
				<span class="a open open-icon"></span>
				<span class="a save save-icon"></span>
				<span class="a play play-icon"></span>
				<div class="version-shell">
					<span>Version:</span>
					<select class="version">
						<option>current</option>
						<option>06.11.2019 (failed)</option>
						<option>05.11.2019 (failed)</option>
						<option>03.11.2019 (failed)</option>
					</select>
				</div>
			</header>
            <section id="list-of-lobbies-content" class="content">
                <div id="choose_level" class="new-lobby">
					<div class="new-lobby-icon circle-icon"></div>
                    <span class="a" data-href="choose_level.html">Create New Lobby</span>
				</div>
                <table id="lobbies-table" class="lobbies-table">
					<tr>
						<th>Host</th>
						<th>Level</th>
						<th>Players</th>
                    </tr>
                    <tr class="lobby-row highlited-on-hover skeleton">
                        <td>
                            <div class="lobbies-table-icon avatar-icon"></div>
                            <span class="username"></span>
                        </td>
                        <td>
                            <div class="lobbies-table-icon level-icon"></div>
                            <span class="level"><span class="levelname"></span> (<span class="difficulty"></span>)</span>
                        </td>
                        <td>
                            <span class="players-amount"></span>
                        </td>
                    </tr>
				</table>
			</section>
            <section id="choose-level-content" class="content">
				<h1 class="content-header">Choose a level</h1>
                <table id="levels-table" class="levels-table">
                    <tr class="skeleton">
                        <td class="level-common-col">
                            <div class="level-common-shell">
                                <div class="levels-table-icon"></div>
                                <span class="level-name"></span>
                                <span class="level-difficulty"></span>
                                <span class="level-type"></span>
                            </div>
                        </td>
                        <td class="level-details-col">
                            <p class="level-details-description"><span class="leader">Description: </span><span class="level-details-text"></span></p>
                            <p class="level-details-rules"><span class="leader">Rules: </span><span class="level-details-text"></span></p>
                            <p class="level-details-goal"><span class="leader">Goal: </span><span class="level-details-text"></span></p>
                        </td>
                        <td class="level-players-number-col">
                            <input class="level-players-number" type="number">
                        </td>
                        <td class="level-start-col">
                            <span class="a" data-href="lobby.html"><div class="start-level-icon"></div></span>
                        </td>
                    </tr>
				</table>
			</section>
            <section id="my-solutions-content" class="content">
                <table id="solutions-table" class="solutions-table">
                    <tbody class="solution-rows-shell skeleton">
                        <tr class="solution-row highlited-on-hover">
                            <td class="level-common-col">
                                <div class="level-common-shell">
                                    <div class="levels-table-icon"></div>
                                    <span class="level-name"></span>
                                    <span class="level-difficulty"></span>
                                    <span class="level-type"></span>
                                </div>
                            </td>
                            <td class="solution-attempts-col">
                                <span class="attempts-number"></span> <span class="attempts-number-details"></span>
                            </td>
                            <td class="solution-status-col">
                                <div class="solution-status-icon"></div>
                            </td>
                        </tr>
                        <tr class="solution-details-row">
                            <td colspan="100%">
                                <div class="level-details">
                                    <p class="level-details-description"><span class="leader">Description: </span><span class="level-details-text"></span></p>
                                    <p class="level-details-rules"><span class="leader">Rules: </span><span class="level-details-text"></span></p>
                                    <p class="level-details-goal"><span class="leader">Goal: </span><span class="level-details-text"></span></p>
                                </div>
                                <div class="list-of-attempts-shell">
                                    <h6>List of Attempts:</h6>
                                    <ol class="list-of-attempts">
                                        <li class="skeleton"><span class="a" data-href=""><span class="attempt-date"></span> (<span class="attempt-result"></span>)</span></li>
                                    </ol>
                                </div>
                            </td>
                        </tr>
                    </tbody>
				</table>
            </section>
            <section id="levels-content" class="content">
                <div id="level_editor" class="new-lobby">
                    <div class="new-lobby-icon circle-icon"></div>
                    <span class="a" data-href="level_editor.html">Create New Level</span>
                </div>
                <table id="teacher-levels-table" class="levels-table">
                    <tr class="skeleton">
                        <td class="level-common-col">
                            <div class="level-common-shell">
                                <div class="levels-table-icon"></div>
                                <span class="level-name"></span>
                                <span class="level-difficulty"></span>
                                <span class="level-type"></span>
                            </div>
                        </td>
                        <td class="level-details-col">
                            <p class="level-details-description"><span class="leader">Description: </span><span class="level-details-text"></span></p>
                            <p class="level-details-rules"><span class="leader">Rules: </span><span class="level-details-text"></span></p>
                            <p class="level-details-goal"><span class="leader">Goal: </span><span class="level-details-text"></span></p>
                        </td>
                        <td>
                            <span class="a highlited-on-hover level-publish-a" data-href="level_editor.html">Activate</span>
                        </td>
                        <td>
                            <span class="a highlited-on-hover level-edit-a" data-href="level_editor.html">Edit</span>
                        </td>
                        <td>
                            <span class="a highlited-on-hover level-delete-a" data-href="level_editor.html">Delete</span>
                        </td>
                    </tr>
                </table>
            </section>
            <section id="level-editor-content" class="content level-editor-content">
                <div id="submit-level" class="submit-level new-lobby">
                    <div class="new-lobby-icon circle-icon"></div>
                    <span class="a" data-href="submit-level.html">Submit level</span>
                </div>
                <section class="level-editor-shell skeleton">
                    <form class="level-editor-form">
                        <input name="bugfix" type="text" style="display: none">
                        <p>
                            <span class="level-property">
                                <label for="name">Name:</label>
                                <input name="name" type="text" placeholder="Name">
                            </span>
                            <span class="level-property">
                                <label for="difficulty">Difficulty:</label>
                                <select name="difficulty">
                                    <option>Easy</option>
                                    <option>Medium</option>
                                    <option>Hard</option>
                                </select>
                            </span>
                            <span class="level-property">
                                <label for="players">Players:</label>
                                <input name="players" type="number" min="1" max="10" class="level-players-number">
                            </span>
                            <span class="level-property">
                                <label for="icon">Icon:</label>
                                <input name="icon" type="file">
                            </span>
                        </p>
                        <p class="long-input">
                            <label for="description">Description:</label>
                            <br>
                            <input name="description" type="text" placeholder="Description">
                        </p>
                        <p class="long-input">
                            <label for="rules">Rules:</label>
                            <br>
                            <input name="rules" type="text" placeholder="Rules">
                        </p>
                        <p class="long-input">
                            <label for="goal">Goal:</label>
                            <br>
                            <input name="goal" type="text" placeholder="Goal">
                        </p>
                        <p class="justify-input">
                            <label for="code">Level code:</label>
                        </p>
                        <p>
                            <span class="a level-code-editor-a open open-icon"></span>
                            <span class="a level-code-editor-a save save-icon"></span>
                            <span class="resources">
                                <label for="resources">Resources:</label>
                                <input name="resources" type="file" multiple>
                            </span>
                        </p>
                        <div class="level-code-editor-shell">
                            <textarea name="code" type="text" style="display: none"></textarea>
                        </div>
                    </form>
                </section>
            </section>
            <section id="lobby-content" class="content">
                <section class="lobby-shell skeleton">
                    <section class="lobby-content">
                        <div class="lobby-common-shell">
                            <div class="lobby-common-icon"></div>
                            <span class="lobby-common-info"><span class="lobby-level-name"></span> Lobby <span class="lobby-players"></span></span>
                            <span class="level-difficulty"></span>
                            <span class="level-type"></span>
                        </div>
                        <table class="players-table">
                            <tr class="skeleton">
                                <td>
                                    <div class="players-table-icon"></div>
                                    <span class="username"></span><span class="host"> (Host)</span>
                                </td>
                                <td><span class="solution-submitted"></span></td>
                            </tr>
                        </table>
                    </section>
                    <section class="solution-content">
                        <div class="level-details">
                            <p class="level-details-description"><span class="leader">Description: </span><span class="level-details-text"></span></p>
                            <p class="level-details-rules"><span class="leader">Rules: </span><span class="level-details-text"></span></p>
                            <p class="level-details-goal"><span class="leader">Goal: </span><span class="level-details-text"></span></p>
                        </div>
                        <div class="lobby-buttons">
                            <button id="edit-solution" class="login-form-button" type="submit">Edit Solution</button>
                            <button id="leave-lobby" class="login-form-button" type="submit">Leave Lobby</button>
                            <button id="get-simulation-result" class="login-form-button" type="submit">Get Simulation Result</button>
                        </div>
                    </section>
                </section>
            </section>
            <section id="code-editor-content" class="content code-editor-content">
                <section class="code-editor-shell skeleton">
<!--                    <textarea name="code-editor" wrap="off"></textarea>-->
                </section>
            </section>
            <section id="simulation-result-content" class="content">
                <section class="simulation-result-shell skeleton">
                    <h1 class="content-header">Simulation Results (<span class="simulation-results-status">Failed</span>)</h1>
                    <section class="playback-content">
                        <h3>Playback</h3>
                        <div class="playback"></div>
                    </section>
                    <section class="log-content">
                        <h3>Log (<span class="a" data-href="">Download</span>)</h3>
                        <textarea name="log" wrap="off"></textarea>
                    </section>
                </section>
			</section>
            <section id="options-content" class="content">
                <h1 class="content-header">Do we still need it?</h1>
            </section>
            <section id="404-content" class="content">
                <h1 class="content-header">404 Not Found</h1>
            </section>
		</div>
	</body>
</html>
